<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 6.4.7.2 (Linux)"/>
	<meta name="created" content="2023-04-10T22:57:50.866830305"/>
	<meta name="changed" content="2023-04-10T23:07:50.002151206"/>
	<style type="text/css">
		code.cjk { font-family: "Noto Sans Mono CJK SC", monospace }
	</style>
</head>
<body lang="en-CA" dir="ltr"><p><a href="https://netbasal.com/getting-to-know-the-takeuntildestroyed-operator-in-angular-d965b7263856">https://netbasal.com/getting-to-know-the-takeuntildestroyed-operator-in-angular-d965b7263856</a></p>
<p>Netanel Basal</p>
<p>Apr 5</p>
<p><b>Getting to Know the takeUntilDestroyed Operator in Angular</b></p>
<p style="font-weight: normal">Angular v16 introduces a new feature
in the @angular/core/rxjs-interop entry that includes three new
operators: 
</p>
<p style="font-weight: normal">fromSignal, 
</p>
<p style="font-weight: normal">fromObservable, 
</p>
<p style="font-weight: normal">and 
</p>
<p style="font-weight: normal">takeUntilDestroyed. 
</p>
<p style="font-weight: normal">These operators are designed to
enhance the functionality of RxJS in Angular applications.</p>
<p style="font-weight: normal"><br/>
<br/>

</p>
<p style="font-weight: normal">The takeUntilDestroyed operator allows
developers to automatically complete an observable when the calling
context (which can be a component, directive, service, or a pipe) is
destroyed. This helps prevent memory leaks and ensures that resources
are released properly.</p>
<p style="font-weight: normal"><br/>
<br/>

</p>
<p style="font-weight: normal">To use the takeUntilDestroyed
operator, you first need to import it from the
@angular/core/rxjs-interop entry.</p>
<p style="font-weight: normal"><br/>
<br/>

</p>
<p style="font-weight: normal">Once imported, you can use it by
chaining it onto your observable:</p>
<p style="font-weight: normal"><font face="Liberation Mono, monospace">import
{ takeUntilDestroyed } from '@angular/core/rxjs-interop';</font></p>
<p style="font-weight: normal"><br/>
<br/>

</p>
<p style="font-weight: normal"><font face="Liberation Mono, monospace">@Component({</font></p>
<p style="font-weight: normal">  <font face="Liberation Mono, monospace">...</font></p>
<p style="font-weight: normal"><font face="Liberation Mono, monospace">})</font></p>
<p style="font-weight: normal"><font face="Liberation Mono, monospace">export
default class HomeComponent {</font></p>
<p style="font-weight: normal"><br/>
<br/>

</p>
<p style="font-weight: normal">  <font face="Liberation Mono, monospace">constructor()
{</font></p>
<p style="font-weight: normal">   
<font face="Liberation Mono, monospace">interval(1000).pipe(takeUntilDestroyed()).subscribe(console.log);</font></p>
<p style="font-weight: normal">  <font face="Liberation Mono, monospace">}</font></p>
<p style="font-weight: normal"><font face="Liberation Mono, monospace">}</font></p>
<p style="font-weight: normal"><br/>
<br/>

</p>
<p style="font-weight: normal; orphans: 2; widows: 2"><a name="997c"></a>
<span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal">In
this example, the&nbsp;</span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="background: #f2f2f2"><code class="western">takeUntilDestroyed</span></span></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal">&nbsp;operator
is used in the&nbsp;</span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="background: #f2f2f2"><code class="western">constructor</span></span></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal">&nbsp;of
the&nbsp;</span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="background: #f2f2f2"><code class="western">HomeComponent</span></span></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal">.
This is because the operator is designed to be used inside
an</span></span></font></font></font></span><strong><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;</span></span></span></font></font></font></span></strong><strong><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b>injection
context</b></span></span></font></font></font></span></strong><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal">.
Angular uses the&nbsp;</span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><a href="https://netbasal.com/getting-to-know-the-destroyref-provider-in-angular-9791aa096d77" target="_blank"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><u><span style="background: #f2f2f2"><code class="western">DestroyRef</span></span></u></span></span></font></font></font></span></a></code><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal">&nbsp;provider
under the hood.</span></span></font></font></font></span></p>
<p style="line-height: 0.71cm; orphans: 2; widows: 2"><a name="cb68"></a>
<span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">If
you want to use the operator in other places, you can pass
a&nbsp;</span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #f2f2f2"><code class="western">DestroyRef</span></span></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;provider
explicitly. Hereâ€™s an example:</span></span></font></font></font></span></p>
<p style="font-weight: normal; orphans: 2; widows: 2"><font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal"><span style="font-style: normal">import
{ takeUntilDestroyed } from '@angular/core/rxjs-interop';</span></span></font></span></font></font></p>
<p style="font-weight: normal; orphans: 2; widows: 2"><br/>
<br/>

</p>
<p style="font-weight: normal; orphans: 2; widows: 2"><font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal"><span style="font-style: normal">@Component({</span></span></font></span></font></font></p>
<p style="font-weight: normal; orphans: 2; widows: 2"><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal">
 <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal">...</span></span></font></span></font></font></p>
<p style="font-weight: normal; orphans: 2; widows: 2"><font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal"><span style="font-style: normal">})</span></span></font></span></font></font></p>
<p style="font-weight: normal; orphans: 2; widows: 2"><font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal"><span style="font-style: normal">export
default class HomeComponent {</span></span></font></span></font></font></p>
<p style="font-weight: normal; orphans: 2; widows: 2"><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal">
 <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal">private
destroyRef = inject(DestroyRef);</span></span></font></span></font></font></p>
<p style="font-weight: normal; orphans: 2; widows: 2"><br/>
<br/>

</p>
<p style="font-weight: normal; orphans: 2; widows: 2"><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal">
 <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal">ngOnInit()
{</span></span></font></span></font></font></p>
<p style="font-weight: normal; orphans: 2; widows: 2"><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal">
   <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal">interval(1000).pipe(</span></span></font></span></font></font></p>
<p style="font-weight: normal; orphans: 2; widows: 2"><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal">
     <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal">takeUntilDestroyed(this.destroyRef)</span></span></font></span></font></font></p>
<p style="font-weight: normal; orphans: 2; widows: 2"><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal">
   <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal">).subscribe(console.log);</span></span></font></span></font></font></p>
<p style="font-weight: normal; orphans: 2; widows: 2"><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal">
 <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal">}</span></span></font></span></font></font></p>
<p style="font-weight: normal; orphans: 2; widows: 2"><font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal"><span style="font-style: normal">}</span></span></font></span></font></font></p>
</body>
</html>