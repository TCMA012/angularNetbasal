<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 6.4.7.2 (Linux)"/>
	<meta name="created" content="2023-04-04T21:05:05.706831182"/>
	<meta name="changed" content="2023-04-04T21:16:32.801851431"/>
	<style type="text/css">
		code.cjk { font-family: "Noto Sans Mono CJK SC", monospace }
	</style>
</head>
<body lang="en-CA" dir="ltr"><p><b>Binding Router Information to
Routed Component Inputs in Angular</b></p>
<p><a href="https://netbasal.com/binding-router-information-to-routed-component-inputs-in-angular-78ee92f63e64">https://netbasal.com/binding-router-information-to-routed-component-inputs-in-angular-78ee92f63e64</a></p>
<p>Netanel Basal</p>
<p>Apr 4</p>
<p style="line-height: 0.71cm; orphans: 2; widows: 2"><a name="8170"></a>
<span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">Angular&nbsp;</span></span></font></font></font></span><a href="https://github.com/angular/angular/blob/main/CHANGELOG.md#1600-next6-2023-04-03" target="_blank"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><u><span style="font-weight: normal">v16</span></u></span></font></font></font></span></a><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;has
introduced a powerful new feature that enables the automatic binding
of router information, such as query parameters, path parameters,
static data, and resolver data to a routed componentâ€™s inputs.</span></span></font></font></font></span></p>
<p style="line-height: 0.71cm; orphans: 2; widows: 2"><a name="4cac"></a>
<span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">This
functionality can be activated using
the&nbsp;</span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #f2f2f2"><code class="western">withComponentInputBinding</span></span></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;function.
Hereâ€™s an example of how to use it:</span></span></font></font></font></span></p>
<p><font face="Liberation Mono, monospace">import {
bootstrapApplication } from '@angular/platform-browser';</font></p>
<p><font face="Liberation Mono, monospace">import { provideRouter,
withComponentInputBinding } from '@angular/router';</font></p>
<p><br/>
<br/>

</p>
<p><font face="Liberation Mono, monospace">bootstrapApplication(AppComponent,
{</font></p>
<p>  <font face="Liberation Mono, monospace">providers: [</font></p>
<p>    <font face="Liberation Mono, monospace">provideRouter(</font></p>
<p>      <font face="Liberation Mono, monospace">[</font></p>
<p>        <font face="Liberation Mono, monospace">{</font></p>
<p>          <font face="Liberation Mono, monospace">path: '',</font></p>
<p>          <font face="Liberation Mono, monospace">pathMatch:
'full',</font></p>
<p>          <font face="Liberation Mono, monospace">loadComponent:
() =&gt; import('./app/home/home.component'),</font></p>
<p>        <font face="Liberation Mono, monospace">},</font></p>
<p>        <font face="Liberation Mono, monospace">{</font></p>
<p>          <font face="Liberation Mono, monospace">path: 'todo',</font></p>
<p>          <font face="Liberation Mono, monospace">loadComponent:
() =&gt; import('./app/todo/todo.component'),</font></p>
<p>        <font face="Liberation Mono, monospace">},</font></p>
<p>      <font face="Liberation Mono, monospace">],</font></p>
<p>      <font face="Liberation Mono, monospace">// ðŸ‘‡ðŸ‘‡ðŸ‘‡</font></p>
<p>      <font face="Liberation Mono, monospace">withComponentInputBinding()</font></p>
<p>    <font face="Liberation Mono, monospace">),</font></p>
<p>  <font face="Liberation Mono, monospace">],</font></p>
<p><font face="Liberation Mono, monospace">});</font></p>
<p><a name="ee5e"></a><font face="Liberation Mono, monospace"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">With
this feature, the router&nbsp;</span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><code class="western"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #f2f2f2">outlet</span></span></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;component
listens to the activated route query parameters, path parameters, and
data observables and automatically calls the&nbsp;</span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><code class="western"><a href="https://netbasal.com/a-new-way-to-set-inputs-on-angular-componentrefs-6214f95db63d" target="_blank"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><u><span style="font-weight: normal"><span style="background: #f2f2f2">setInput</span></span></span></u></span></font></font></font></span></a></code><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;method
with the initial value and when it changes.</span></span></font></font></font></span></font></p>
<p style="line-height: 0.71cm; orphans: 2; widows: 2"><a name="0a52"></a>
<span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">For
example, suppose we have an&nbsp;</span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #f2f2f2"><code class="western">id</span></span></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">&nbsp;query
parameter in our URL and want to fetch the current entity. In this
case, our URL will be&nbsp;</span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #f2f2f2"><code class="western">/todo?id=1</span></span></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">,
and our component will look like this:</span></span></font></font></font></span></p>
<p><font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">@Component({</font></font></p>
<p>  <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">...</font></font></p>
<p>  <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">standalone:
true,</font></font></p>
<p><font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">})</font></font></p>
<p><font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">export
default class TodoComponent {</font></font></p>
<p>  <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">private
todosService = inject(TodosService);</font></font></p>
<p><br/>
<br/>

</p>
<p>  <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">todo$:
Observable&lt;Todo&gt;;</font></font></p>
<p><br/>
<br/>

</p>
<p>  <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">//
The input name should be the same as the query param key</font></font></p>
<p>  <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">@Input()
set id(value: string) {</font></font></p>
<p>    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">this.todo$
= this.todosService.get(value);</font></font></p>
<p>  <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">}</font></font></p>
<p><font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">}</font></font></p>
<p><font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Similarly,
if we have a search term in our URL (e.g&nbsp;</span></span></span></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><code class="western"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #f2f2f2">/foo?searchTerm=bar</span></span></span></span></span></font></font></span></code><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">),
we can update our form control with its value:</span></span></span></font></font></span></font></font></p>
<p><font face="Liberation Mono, monospace">@Component({</font></p>
<p>  <font face="Liberation Mono, monospace">...</font></p>
<p>  <font face="Liberation Mono, monospace">standalone: true,</font></p>
<p>  <font face="Liberation Mono, monospace">imports:
[ReactiveFormsModule],</font></p>
<p><font face="Liberation Mono, monospace">})</font></p>
<p><font face="Liberation Mono, monospace">export default class
FooComponent {</font></p>
<p>  <font face="Liberation Mono, monospace">searchControl:
FormControl&lt;string&gt;;</font></p>
<p><br/>
<br/>

</p>
<p>  <font face="Liberation Mono, monospace">@Input() searchTerm:
string;</font></p>
<p><br/>
<br/>

</p>
<p>  <font face="Liberation Mono, monospace">ngOnInit() {</font></p>
<p>    <font face="Liberation Mono, monospace">this.searchControl =
new FormControl(this.searchTerm || '');</font></p>
<p>  <font face="Liberation Mono, monospace">}</font></p>
<p><font face="Liberation Mono, monospace">}</font></p>
<p style="font-variant: normal; font-style: normal; font-weight: normal"><a name="3d65"></a>
<font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt">In
cases of conflicts, the priority is set based on the following: data
&gt; path parameters &gt; query parameters.</font></font></font></p>
<p style="font-variant: normal; font-style: normal; font-weight: normal; line-height: 0.71cm; orphans: 2; widows: 2"><a name="c0c8"></a>
<font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt">Hereâ€™s
an example that demonstrates all the valid use cases:</font></font></font></p>
<p><font face="Liberation Mono, monospace">bootstrapApplication(AppComponent,
{</font></p>
<p>  <font face="Liberation Mono, monospace">providers: [</font></p>
<p>    <font face="Liberation Mono, monospace">provideRouter(</font></p>
<p>      <font face="Liberation Mono, monospace">[</font></p>
<p>        <font face="Liberation Mono, monospace">{</font></p>
<p>          <font face="Liberation Mono, monospace">path:
'todos/:todoId',</font></p>
<p>          <font face="Liberation Mono, monospace">data: {</font></p>
<p>            <font face="Liberation Mono, monospace">isSomething:
true,</font></p>
<p>          <font face="Liberation Mono, monospace">},</font></p>
<p>          <font face="Liberation Mono, monospace">resolve: {
resolveFoo: () =&gt; 'My resolved data' },</font></p>
<p>          <font face="Liberation Mono, monospace">loadComponent:
() =&gt; import('./app/todo/todo.component'),</font></p>
<p>        <font face="Liberation Mono, monospace">},</font></p>
<p>      <font face="Liberation Mono, monospace">],</font></p>
<p>      <font face="Liberation Mono, monospace">withComponentInputBinding()</font></p>
<p>    <font face="Liberation Mono, monospace">),</font></p>
<p>  <font face="Liberation Mono, monospace">],</font></p>
<p><font face="Liberation Mono, monospace">});</font></p>
<p><font face="Liberation Mono, monospace"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">Suppose
our URL is&nbsp;</span></span></span></font></font></font></span><span style="display: inline-block; border: none; padding: 0cm"><code class="western"><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: #f2f2f2">/todos/1?searchTerm=angular</span></span></span></span></span></font></font></font></span></code><span style="font-variant: normal"><font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">,
and our component looks like this:</span></span></span></font></font></font></span></font></p>
<p><font face="Liberation Mono, monospace"><span style="font-variant: normal"><font color="#292929"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">@Component({</span></span></span></font></font></span></font></p>
<p><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal">
 <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">...</span></span></span></font></font></span></font></p>
<p><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal">
 <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">standalone:
true,</span></span></span></font></font></span></font></p>
<p><font face="Liberation Mono, monospace"><span style="font-variant: normal"><font color="#292929"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">})</span></span></span></font></font></span></font></p>
<p><font face="Liberation Mono, monospace"><span style="font-variant: normal"><font color="#292929"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">export
default class TodoComponent {</span></span></span></font></font></span></font></p>
<p><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal">
 <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">@Input()
resolveFoo: string; // My resolved data</span></span></span></font></font></span></font></p>
<p><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal">
 <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">@Input()
isSomething: boolean; // true</span></span></span></font></font></span></font></p>
<p><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal">
 <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">@Input()
todoId: string; // 1</span></span></span></font></font></span></font></p>
<p><span style="font-variant: normal"><font color="#292929"><span style="letter-spacing: normal">
 <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="font-weight: normal">@Input()
searchTerm: string; // angular</span></span></span></font></font></span></font></p>
<p><font face="Liberation Mono, monospace"><span style="font-variant: normal"><font color="#292929"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal">}</span></span></span></font></font></span></font></p>
<p style="font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal">
<font color="#292929"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><font size="3" style="font-size: 12pt">Overall,
this new feature streamlines the process of passing router
information to routed components, and reducing the need for
boilerplate code.</font></font></font></font></p>
</body>
</html>